# PetBank

Простой пет-проект на микросервисной архитектуре с gRPC.


# 📂 Файловая система

 - api - папка с описанием энтрипоинта
	 - controllers - папка **с ручками**
	 - models - папка **с сущностями для ручек**
	 - main.go - главный файл с **сервером API**
- config - папка с **конфигом** и его настройкой
- docs - папка со **swagger**
- internal 
	- grpc - папка с подключением клиента и сервера  gRPC
- pkg
	- logger - папка с логгером
	- routes - папка  с **маршрутизацией** ручек
- services - папка с сервисами в отдельных контейнерах
	- accounts - папка с сервисом **счетов**
		- db - волюм для базы со счетами
		- grpc - **серверная** реализация **gRPC**
		- migrations - миграции для бд
		- main.go - главный файл с **сервером сервиса счетов**
	- customer папка с сервисом **пользователей**
		- db - волюм для базы со счетами
		- grpc - серверная реализация gRPC
		- migrations - миграции для бд
		- main.go - главный файл с **сервером сервиса пользователей**
- utils - папка с функцией подключения бд и проверки паоля

## 👜 Стек

 1. Golang, Fiber
 2. gRPC
 3. PostgreSQL, goose
 4. Docker, docker-compose
 5. Swagger

## 🔨 Как запускать

Из папки PetBank/api запускается 
`go run main.go`
с API сервером

Из корневой папки запускается 
`sudo make cserv`
для поднятия контейнеров с сервисом пользователей и базой данных пользователей

Из корневой папки запускается 
`sudo make aserv`
для поднятия контейнеров с сервисом счетов и базой данных счетов

***

Или

*** 
Из папки PetBank/api запускается 
`go run main.go`
с API сервером

Из корневой папки запускается 
`sudo make serv`
для поднятия всех четырех контейнеров

##  🔗 Ссылки

localhost:3000/swagger - сваггер


